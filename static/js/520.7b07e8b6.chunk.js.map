{"version":3,"file":"static/js/520.7b07e8b6.chunk.js","mappings":"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","sources":["components/gallery/gallery.styled.jsx","components/gallery/gallery.jsx","pages/camera/camera.styled.jsx","pages/camera/camera.jsx"],"sourcesContent":["import styled from '@emotion/styled';\nconst backdrop = require('../elements/backdropContainer/backdrop.webp');\n\nexport const Container = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: #ffffff;\n  width: 300px;\n  height: 97%;\n  border-top-left-radius: 1.25em;\n  border-top-right-radius: 1.25em;\n  background-image: url(${backdrop});\n  background-size: cover;\n  z-index: 4;\n  overflow: auto;\n  &::-webkit-scrollbar {\n    width: 0em;\n    height: 0em;\n  }\n  &::-webkit-scrollbar-track {\n    background: transparent;\n  }\n`;\n\nexport const Gallery = styled.ul`\n  display: flex;\n  list-style: none;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto;\n  padding: 0;\n`;\n\nexport const GalleryItem = styled.li``;\n\nexport const GalleryImage = styled.img``;\n","import {\n  Container,\n  Gallery,\n  GalleryItem,\n  GalleryImage,\n} from './gallery.styled';\nimport { nanoid } from '@reduxjs/toolkit';\n\nexport default function GalleryMobile({ gallery }) {\n  // const images = [];\n\n  // gallery.map(image => {\n  //   return images.push({\n  //     src: image.src,\n  //     width: 320,\n  //     height: 240,\n  //   });\n  // });\n\n  return (\n    <Container>\n      <Gallery>\n        {gallery.map(image => {\n          return (\n            <GalleryItem key={nanoid()}>\n              <GalleryImage src={image.src} width=\"320\" height=\"240\" />\n            </GalleryItem>\n          );\n        })}\n      </Gallery>\n    </Container>\n  );\n}\n","import styled from '@emotion/styled/macro';\nimport { FcGallery } from 'react-icons/fc';\n\nexport const Container = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n`;\n\nexport const Frame = styled.iframe`\n  border-top-left-radius: 1.2em;\n  border-top-right-radius: 1.2em;\n`;\n\nexport const Video = styled.video`\n  position: absolute;\n  transform: scaleX(-1);\n  width: 300px;\n  height: calc(100% - 36px);\n  object-fit: cover;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n`;\n\nexport const Canvas = styled.canvas`\n  display: none;\n`;\n\nexport const ButtonPhoto = styled.button`\n  position: absolute;\n  bottom: 7%;\n  left: 50%;\n  transform: translate(-50%, -7%);\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  border: none;\n  background: #ffffffcc;\n  z-index: 2;\n  cursor: pointer;\n  &:active {\n    box-shadow: inset 0px 0px 5px 5px rgba(0, 0, 0, 0.5);\n  }\n`;\n\nexport const ButtonGallery = styled.button`\n  position: absolute;\n  bottom: 7%;\n  left: 15%;\n  transform: translate(-50%, -7%);\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  border: none;\n  z-index: 2;\n  background: #ffffffcc;\n  cursor: pointer;\n`;\n\nexport const IconGallery = styled(FcGallery)`\n  width: 80%;\n  height: 80%;\n`;\n","import React, { useEffect, useState, useRef } from 'react';\nimport GalleryMobile from 'components/gallery/gallery';\nimport {\n  Container,\n  Video,\n  Canvas,\n  ButtonPhoto,\n  ButtonGallery,\n  IconGallery,\n} from './camera.styled';\n\nexport default function Camera() {\n  const [gallery, setGallery] = useState([]);\n  const [isOpenGallery, setIsOpenGallery] = useState(false);\n  const videoRef = useRef(null);\n  const photoRef = useRef(null);\n\n  useEffect(() => {\n    getVideo();\n  }, [videoRef]);\n\n  const getVideo = () => {\n    navigator.mediaDevices\n      .getUserMedia({\n        video: {\n          width: { min: 360, ideal: 720, max: 980 },\n          height: { min: 640, ideal: 1280, max: 1920 },\n          facingMode: 'user',\n        },\n      })\n      .then(stream => {\n        let video = videoRef.current;\n        video.srcObject = stream;\n        video.play();\n      })\n      .catch(err => {\n        throw new Error(err);\n      });\n  };\n\n  const paintToCanvas = () => {\n    let video = videoRef.current;\n    let photo = photoRef.current;\n    let ctx = photo.getContext('2d');\n    const width = 720;\n    const height = 1280;\n    photo.width = width;\n    photo.height = height;\n    return setInterval(() => {\n      ctx.drawImage(video, 0, 0, width, height);\n    }, 200);\n  };\n\n  const takePhoto = () => {\n    let photo = photoRef.current;\n    const data = photo.toDataURL('image/jpeg');\n    const image = { src: data };\n    setGallery([...gallery, image]);\n  };\n\n  return (\n    <Container>\n      <Video onCanPlay={() => paintToCanvas()} ref={videoRef} />\n      <Canvas ref={photoRef} />\n      <ButtonGallery\n        type=\"button\"\n        onClick={() => {\n          setIsOpenGallery(!isOpenGallery);\n        }}\n      >\n        <IconGallery />\n      </ButtonGallery>\n      <ButtonPhoto type=\"button\" onClick={() => takePhoto()}></ButtonPhoto>\n\n      {isOpenGallery && <GalleryMobile gallery={gallery} />}\n    </Container>\n  );\n}\n"],"names":["backdrop","require","Container","styled","_templateObject","_taggedTemplateLiteral","Gallery","_templateObject2","GalleryItem","_templateObject3","GalleryImage","_templateObject4","GalleryMobile","_ref","gallery","_jsx","children","map","image","src","width","height","nanoid","_styled","target","name","styles","Video","Canvas","ButtonPhoto","ButtonGallery","IconGallery","FcGallery","Camera","_useState","useState","_useState2","_slicedToArray","setGallery","_useState3","_useState4","isOpenGallery","setIsOpenGallery","videoRef","useRef","photoRef","useEffect","getVideo","navigator","mediaDevices","getUserMedia","video","min","ideal","max","facingMode","then","stream","current","srcObject","play","catch","err","Error","_jsxs","onCanPlay","photo","ctx","getContext","setInterval","drawImage","paintToCanvas","ref","type","onClick","toDataURL","concat","_toConsumableArray","takePhoto"],"sourceRoot":""}