{"version":3,"file":"static/js/987.6a23d898.chunk.js","mappings":"8PAUe,SAASA,IACtB,IAAAC,GAA0BC,EAAAA,EAAAA,KAAlBC,EAAKF,EAALE,MAAOC,EAAMH,EAANG,OACTC,GAAeC,EAAAA,EAAAA,QAAO,MACtBC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACJR,EAAMC,QAAU,MAAKQ,EAAAA,EAAAA,GAAYT,EAAMU,SAC5B,MAAXT,KACFU,EAAAA,EAAAA,GAAa,qBACbC,YAAW,WACTN,EAAS,aAAc,CAAEO,SAAS,GACpC,GAAG,KAEP,GAAG,CAACb,EAAOC,EAAQK,IA4BnB,OACEQ,EAAAA,EAAAA,MAACC,EAAAA,EAAS,CAAAC,SAAA,EACRC,EAAAA,EAAAA,KAACC,EAAAA,GAAO,KACRD,EAAAA,EAAAA,KAACE,EAAAA,EAAc,CACbC,MAAM,kBACNC,YAAY,cACZC,aAhCe,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,OAKTC,EAAW,IAAIC,SACrBD,EAASE,OAAO,SAAUJ,EAAKK,SAASC,OAAOC,MAAM,IACrDL,EAASE,OAAO,OAAQJ,EAAKK,SAASG,KAAKC,OAC3CP,EAASE,OAAO,QAASJ,EAAKK,SAASK,MAAMD,OAC7CP,EAASE,OAAO,QAASJ,EAAKK,SAASM,MAAMF,OAM7C9B,GAASiC,EAAAA,EAAAA,IAAWV,GAGtB,EAaMW,WAXa,WACjBpC,EAAaqC,QAAQC,OACvB,EAUMtC,aAAcA,MAItB,C","sources":["pages/addNewContact/addNewContact.jsx"],"sourcesContent":["import { useDispatch } from 'react-redux';\nimport { useEffect, useRef } from 'react';\nimport { useContacts } from 'hooks/useContacts';\nimport { useNavigate } from 'react-router-dom';\nimport { addContact } from 'Redux/contacts/Operations';\nimport { Container } from '../../components/elements/backdropContainer/backdropContainer.styled';\nimport { Toaster } from 'react-hot-toast';\nimport { notifyError, notifySucces } from 'helpers/notify';\nimport ContactAddEdit from 'components/contactAddEdit/contactAddEdit';\n\nexport default function AddNewContact() {\n  const { error, status } = useContacts();\n  const avatarPicker = useRef(null);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (error.status >= 400) notifyError(error.message);\n    if (status === 201) {\n      notifySucces('new contact added');\n      setTimeout(() => {\n        navigate('/phonebook', { replace: true });\n      }, 1000);\n    }\n  }, [error, status, navigate]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.target;\n    // const name = form.elements.name.value;\n    // const phone = form.elements.phone.value;\n    // const email = form.elements.email.value;\n    // const avatarURL = form.elements.avatar.files[0];\n    const formData = new FormData();\n    formData.append('avatar', form.elements.avatar.files[0]);\n    formData.append('name', form.elements.name.value);\n    formData.append('phone', form.elements.phone.value);\n    formData.append('email', form.elements.email.value);\n    // const contact = {\n    //   name: name,\n    //   phone: phone,\n    //   email: email,\n    // };\n    dispatch(addContact(formData));\n    // dispatch(addContact(contact));\n    // form.reset();\n  };\n\n  const handlePick = () => {\n    avatarPicker.current.click();\n  };\n\n  return (\n    <Container>\n      <Toaster />\n      <ContactAddEdit\n        title=\"Add new contact\"\n        titleButton=\"Add contact\"\n        handleSubmit={handleSubmit}\n        handlePick={handlePick}\n        avatarPicker={avatarPicker}\n      />\n    </Container>\n  );\n}\n"],"names":["AddNewContact","_useContacts","useContacts","error","status","avatarPicker","useRef","dispatch","useDispatch","navigate","useNavigate","useEffect","notifyError","message","notifySucces","setTimeout","replace","_jsxs","Container","children","_jsx","Toaster","ContactAddEdit","title","titleButton","handleSubmit","e","preventDefault","form","target","formData","FormData","append","elements","avatar","files","name","value","phone","email","addContact","handlePick","current","click"],"sourceRoot":""}