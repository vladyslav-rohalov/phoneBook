{"version":3,"file":"static/js/304.7810762d.chunk.js","mappings":"6PAYe,SAASA,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACjBC,GAA0BC,EAAAA,EAAAA,KAAlBC,EAAKF,EAALE,MAAOC,EAAMH,EAANG,OACPC,GAAOC,EAAAA,EAAAA,MAAPD,GAEFE,GADeL,EAAAA,EAAAA,KAAbM,SACiBC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,MAAQN,CAAE,IAC/CO,GAAWC,EAAAA,EAAAA,MACXC,GAAeC,EAAAA,EAAAA,QAAO,OAE5BC,EAAAA,EAAAA,YAAU,WACRjB,GAASkB,EAAAA,EAAAA,MACX,GAAG,CAAClB,KAEJiB,EAAAA,EAAAA,YAAU,WACJb,EAAMC,QAAU,MAAKc,EAAAA,EAAAA,GAAYf,EAAMgB,SAC5B,MAAXf,KACFgB,EAAAA,EAAAA,GAAa,gCACbC,YAAW,WACTT,EAAS,aAAc,CAAEU,SAAS,GACpC,GAAG,KAEP,GAAG,CAACnB,EAAOC,EAAQQ,IA0BnB,OACEW,EAAAA,EAAAA,MAACC,EAAAA,EAAS,CAAAC,SAAA,EACRC,EAAAA,EAAAA,KAACC,EAAAA,GAAO,IACPpB,IACCmB,EAAAA,EAAAA,KAACE,EAAAA,EAAc,CACbC,MAAM,eACNC,YAAY,eACZC,aA/Ba,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,OACTC,EAAOF,EAAKG,SAASD,KAAKE,MAC1BC,EAAQL,EAAKG,SAASE,MAAMD,MAC5BE,EAAQN,EAAKG,SAASG,MAAMF,MAC5BG,EAAYP,EAAKG,SAASK,OAAOC,MAAM,IAC5B,IAAIC,UACZC,OAAO,OAAQJ,GAExB,IAAMlC,EAAU,CACdF,GAAIA,EACJ+B,KAAMA,EACNG,MAAOA,EACPC,MAAOA,GAETzC,GAAS+C,EAAAA,EAAAA,IAAYvC,GAEvB,EAcQ6B,KAAM7B,EAAQ6B,KACdG,MAAOhC,EAAQgC,MACfC,MAAOjC,EAAQiC,MACfO,WAfW,WACjBjC,EAAakC,QAAQC,OACvB,EAcQnC,aAAcA,MAKxB,C","sources":["pages/editContact/editContact.jsx"],"sourcesContent":["import { useDispatch } from 'react-redux';\nimport { useRef } from 'react';\nimport { useContacts } from 'hooks/useContacts';\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { fetchContacts, editContact } from 'Redux/contacts/Operations';\nimport { useParams } from 'react-router-dom';\nimport { Container } from '../../components/elements/backdropContainer/backdropContainer.styled';\nimport { Toaster } from 'react-hot-toast';\nimport { notifyError, notifySucces } from 'helpers/notify';\nimport ContactAddEdit from 'components/contactAddEdit/contactAddEdit';\n\nexport default function EditContact() {\n  const dispatch = useDispatch();\n  const { error, status } = useContacts();\n  const { id } = useParams();\n  const { contacts } = useContacts();\n  const contact = contacts.find(item => item._id === id);\n  const navigate = useNavigate();\n  const avatarPicker = useRef(null);\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (error.status >= 400) notifyError(error.message);\n    if (status === 201) {\n      notifySucces('Contact updated successfully');\n      setTimeout(() => {\n        navigate('/phonebook', { replace: true });\n      }, 1000);\n    }\n  }, [error, status, navigate]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.target;\n    const name = form.elements.name.value;\n    const phone = form.elements.phone.value;\n    const email = form.elements.email.value;\n    const avatarURL = form.elements.avatar.files[0];\n    const formData = new FormData();\n    formData.append('path', avatarURL);\n\n    const contact = {\n      id: id,\n      name: name,\n      phone: phone,\n      email: email,\n    };\n    dispatch(editContact(contact));\n    // form.reset();\n  };\n\n  const handlePick = () => {\n    avatarPicker.current.click();\n  };\n\n  return (\n    <Container>\n      <Toaster />\n      {contact && (\n        <ContactAddEdit\n          title=\"Edit contact\"\n          titleButton=\"Edit contact\"\n          handleSubmit={handleSubmit}\n          name={contact.name}\n          phone={contact.phone}\n          email={contact.email}\n          handlePick={handlePick}\n          avatarPicker={avatarPicker}\n        />\n      )}\n    </Container>\n  );\n}\n"],"names":["EditContact","dispatch","useDispatch","_useContacts","useContacts","error","status","id","useParams","contact","contacts","find","item","_id","navigate","useNavigate","avatarPicker","useRef","useEffect","fetchContacts","notifyError","message","notifySucces","setTimeout","replace","_jsxs","Container","children","_jsx","Toaster","ContactAddEdit","title","titleButton","handleSubmit","e","preventDefault","form","target","name","elements","value","phone","email","avatarURL","avatar","files","FormData","append","editContact","handlePick","current","click"],"sourceRoot":""}